(this.webpackJsonpchatbook=this.webpackJsonpchatbook||[]).push([[0],{25:function(e,t,c){},34:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var n=c(2),o=c(26),s=c.n(o),a=(c(34),c(11)),i=c(23),l=c(14),r=c(5),j=(c(25),c(29)),b=Object(n.createContext)({status:null,login:function(){}}),u=c(16);c(35),c(49),c(38);0===u.a.apps.length&&u.a.initializeApp({apiKey:"AIzaSyC6aiT3JbciUVssW7y_L2aq7McRsM2nl-4",authDomain:"sahu-187009.firebaseapp.com",projectId:"sahu-187009",storageBucket:"sahu-187009.appspot.com",messagingSenderId:"672835656607",appId:"1:672835656607:web:88e4ef7104ac0afe10bbaa"});u.a.auth();var d=u.a.firestore(),h=u.a.storage(),g=c(1),O=function(){var e=Object(n.useContext)(b),t=Object(n.useState)([]),c=Object(a.a)(t,2),o=c[0],s=c[1],i=Object(n.useState)([]),l=Object(a.a)(i,2),r=l[0],u=l[1],h=e.google,O=e.gname,m=e.gimg;Object(n.useEffect)((function(){h?d.collection(h).get().then((function(e){e.forEach((function(e){var t=e.data();s((function(e){return[].concat(Object(j.a)(e),[t])})),u(e.id)}))})):console.log("Failed")}),[h]);var p=function(){d.collection(h).doc(r).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"THis is Home"}),Object(g.jsx)("div",{className:"home-popo",children:Object(g.jsx)("div",{className:"parent-home",children:o.map((function(e,t){return Object(g.jsxs)("div",{className:"card",children:[Object(g.jsxs)("div",{className:"card-header",children:[Object(g.jsx)("div",{className:"card-user-img",children:Object(g.jsx)("img",{src:m,alt:"img"})}),Object(g.jsx)("div",{className:"card-user",children:Object(g.jsx)("p",{children:O})})]}),Object(g.jsx)("img",{src:e.imgUrl,alt:"img"}),Object(g.jsx)("div",{className:"card-panel",children:Object(g.jsx)("button",{onClick:p,children:"Delete"})})]},t)}))})})]})},m=function(){var e=Object(n.useContext)(b),t=Object(n.useState)(""),c=Object(a.a)(t,2),o=c[0],s=c[1];return console.log(e.google),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"post-parent",children:Object(g.jsxs)("center",{children:[Object(g.jsx)("input",{className:"upload-photo",type:"file",onChange:function(e){s(e.target.files[0])}}),Object(g.jsx)("button",{onClick:function(){var t=e.google;console.log(t),h.ref("/images/".concat(o.name)).put(o).on("state_changed",alert("success"),alert,(function(){h.ref("images").child(o.name).getDownloadURL().then((function(e){console.log("My Url Is "+e),d.collection(t).add({name:o.name,imgUrl:e}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))}))}))},children:"Upload"})]})})})},p=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("h1",{children:"Welcome to your Profile"})})},x=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("h1",{children:"This is the Chats"})})},f=function(){var e="858912927585-10m54q22q63t3m6hv1qpd1d38fegc3lj.apps.googleusercontent.com",t=Object(n.useState)(""),c=Object(a.a)(t,2),o=c[0],s=c[1],j=Object(n.useState)(""),u=Object(a.a)(j,2),d=u[0],h=u[1],f=Object(n.useState)(""),v=Object(a.a)(f,2),S=v[0],N=v[1],y=Object(n.useState)(!0),k=Object(a.a)(y,2),C=k[0],I=k[1],F=Object(n.useState)(!1),L=Object(a.a)(F,2),U=L[0],w=L[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"header",children:[Object(g.jsxs)("div",{className:"title",children:[Object(g.jsx)("h1",{children:"ChatBook"}),Object(g.jsxs)("p",{children:["Welcome ",o]})]}),Object(g.jsxs)("div",{className:"nav-panel",children:[Object(g.jsx)(l.b,{to:"/",children:"Home"}),Object(g.jsx)(l.b,{to:"/posts",children:"Posts"}),Object(g.jsx)(l.b,{to:"/chat",children:"Chats"}),Object(g.jsx)(l.b,{to:"/profile",children:Object(g.jsxs)("div",{className:"login-button",children:[C?Object(g.jsx)(i.GoogleLogin,{clientId:e,buttonText:"Login",onSuccess:function(e){console.log("Login Success:",e.profileObj),s(e.profileObj.name),h(e.profileObj.googleId),N(e.profileObj.imageUrl),I(!1),w(!0)},onFailure:function(e){console.log("Login Failed:",e)},cookiePolicy:"single_host_origin",isSignedIn:!0}):null,U?Object(g.jsx)(i.GoogleLogout,{clientId:e,buttonText:"LogOut",onLogoutSuccess:function(){alert("You have been logged out successfully"),console.clear(),s(""),I(!0),w(!1)}}):null]})})]})]}),Object(g.jsx)(b.Provider,{value:{google:d,gname:o,gimg:S},children:Object(g.jsxs)(r.c,{children:[Object(g.jsx)(r.a,{exact:!0,path:"/",component:O}),Object(g.jsx)(r.a,{exact:!0,path:"/posts",component:m}),Object(g.jsx)(r.a,{exact:!0,path:"/profile",component:p}),Object(g.jsx)(r.a,{exact:!0,path:"/chat",component:x})]})})]})};s.a.render(Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(l.a,{basename:"/chatbook",children:Object(g.jsx)(f,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.90c1dc5e.chunk.js.map